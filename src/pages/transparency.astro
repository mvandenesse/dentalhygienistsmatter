---
import BaseLayout from '../layouts/BaseLayout.astro';
import entries from '../data/pac-gold-silver-va.json';
import tiers from '../data/pac-tiers.json';

const tierMeta = tiers;
const gold = entries.filter((e) => e.tier === 'gold');
const silver = entries.filter((e) => e.tier === 'silver');

const formatMoney = (n) => new Intl.NumberFormat(undefined, { style: 'currency', currency: 'USD', maximumFractionDigits: 0 }).format(n);
---

<BaseLayout title="Transparency" description="PAC donor recognition lists presented with context and public business contact information." >
  <h1>Transparency</h1>

  <div class="panel callout">
    <p style="margin-top: 0;">
      Patients deserve transparency about political advocacy and funding that may shape health policy.
    </p>
    <p class="muted" style="margin-bottom: 0;">
      We present donor recognition information as <strong>PAC contribution recognition</strong> (not as a claim that an individual endorsed a specific bill).
      We list only <strong>public business contact information</strong> (office address/phone), with source links, and we do not publish personal contact details.
    </p>
  </div>

  <h2>How to read donor tiers and amounts</h2>
  <div class="panel">
    <p class="muted" style="margin-top: 0;">
      The source document lists donors by <strong>club/tier</strong>. This indicates a <strong>minimum contribution level</strong> (or fixed level), not necessarily the exact amount given by each individual.
    </p>
    <ul>
      <li><strong>{tierMeta.gold.label}:</strong> {tierMeta.gold.amountText} (minimum {formatMoney(tierMeta.gold.minAmount)})</li>
      <li><strong>{tierMeta.silver.label}:</strong> {tierMeta.silver.amountText} (minimum {formatMoney(tierMeta.silver.minAmount)})</li>
    </ul>
  </div>

  <h2>Gold club (Virginia only)</h2>
  <div class="panel">
    <p class="muted">Practice info (address/phone) is being added with citations. Names may be corrected as we verify spelling.</p>
    <ul>
      {gold.map((e) => <li><strong>{e.name}</strong></li>)}
    </ul>
  </div>

  <h2>Silver club (Virginia only)</h2>
  <div class="panel">
    <ul>
      {silver.map((e) => <li><strong>{e.name}</strong></li>)}
    </ul>
  </div>

  <h2>What will be included for each entry (once verified)</h2>
  <div class="panel">
    <ul>
      <li>Name</li>
      <li>Practice name</li>
      <li>Office address + phone</li>
      <li>Donor tier + minimum amount</li>
      <li>Source link(s) for practice info</li>
    </ul>
  </div>
</BaseLayout>
